<p>Most advanced Form functions involve the use of a formula.<br/>As such it is critical that you understand how to create formulae in order to get the most out of our advanced features.</p><div class="toc-macro client-side-toc-macro  conf-macro output-block" data-headerelements="H1,H2,H3,H4,H5,H6,H7" data-hasbody="false" data-macro-name="toc" data-macro-id="32909ab1-4cd8-409d-9709-6aa2ad349f8e" data-layout="default" data-local-id="8c088cee-fd2f-44e2-be35-51868c5e9d5b"> </div><hr/><h2 id="CreatingaFormula-ReferencingFieldValues">Referencing Field Values</h2><p>First off you need to know how to address or refer to a field in your form.<br/>This is done by using <em>placeholders</em> wherever you want the system to insert answers from fields of your Form.<br/>Placeholders are entered using the unique data name property of the Form field, wrapped in curly braces: <strong>{{dataname}}</strong></p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="340" loading="lazy" src="https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201036.png?version=1&amp;modificationDate=1689148716182&amp;cacheVersion=1&amp;api=v2&amp;width=340&amp;height=104" data-image-src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201036.png?version=1&amp;modificationDate=1689148716182&amp;cacheVersion=1&amp;api=v2" data-height="128" data-width="415" data-unresolved-comment-count="0" data-linked-resource-id="26522781112" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20221013-201036.png" data-base-url="https://goconnectitgroup.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="26522781077" data-linked-resource-container-version="1" data-media-id="3d381b70-7479-4735-a967-deb43fe58842" data-media-type="file" srcset="https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201036.png?version=1&amp;modificationDate=1689148716182&amp;cacheVersion=1&amp;api=v2&amp;width=415&amp;height=128 2x, https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201036.png?version=1&amp;modificationDate=1689148716182&amp;cacheVersion=1&amp;api=v2&amp;width=340&amp;height=104 1x"></span><p>So for example if you have a Page group called &quot;page1&quot; and a Text field named &quot;xyz&quot; inside that group:</p><ul><li><p>You would refer to xyz as:  <strong>{{xyz}}</strong></p></li><li><p>Refer to page1 with:  <strong>{{page1}}</strong></p></li></ul><p><strong>Note </strong>that placeholders and all other functions available for use in a formula are <strong>case-sensitive.</strong></p><p>Now that you know how to reference field values, you can use this knowledge to build a <strong>formula</strong>.<br/>A formula contains placeholders and/or various operators, and functions, which together give a result - much the same as an Excel formula works.</p><p>When the app runs the formula, any placeholders are replaced with the value currently stored in the field referenced by that placeholder. </p><p><strong>Let's look at a simple example... </strong></p><p>Say we have a question that asks whether a road has been closed (field's data name is &quot;isclosed&quot;), and a follow-up question that asks what the reason for the closure is (field's data name is &quot;closedreason&quot;).</p><p>The &quot;isclosed&quot; field has two options: Yes (underlying value Y) or No (underlying value N).</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="340" loading="lazy" src="https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201054.png?version=1&amp;modificationDate=1689148716090&amp;cacheVersion=1&amp;api=v2&amp;width=340&amp;height=146" data-image-src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201054.png?version=1&amp;modificationDate=1689148716090&amp;cacheVersion=1&amp;api=v2" data-height="168" data-width="389" data-unresolved-comment-count="0" data-linked-resource-id="26522781109" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20221013-201054.png" data-base-url="https://goconnectitgroup.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="26522781077" data-linked-resource-container-version="1" data-media-id="2742eedc-6fc7-4939-b96b-26ead6823ca8" data-media-type="file" srcset="https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201054.png?version=1&amp;modificationDate=1689148716090&amp;cacheVersion=1&amp;api=v2&amp;width=389&amp;height=168 2x, https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201054.png?version=1&amp;modificationDate=1689148716090&amp;cacheVersion=1&amp;api=v2&amp;width=340&amp;height=146 1x"></span><p>If the user answers No, then we don’t want to show the &quot;closedreason&quot; field.</p><p>This calls for a Visibility condition on the &quot;closedreason&quot; question, defined as a formula: {{isclosed}} = ‘Y’ What the above formula says is that the &quot;closedreason&quot; question is only Visible if &quot;isclosed&quot; was answered with the Y (Yes) value.</p><p>Note that we use single quotes ( ' ) to include literal/fixed values - i.e. the 'Y' part of the formula.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="340" loading="lazy" src="https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201111.png?version=1&amp;modificationDate=1689148716006&amp;cacheVersion=1&amp;api=v2&amp;width=340&amp;height=84" data-image-src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201111.png?version=1&amp;modificationDate=1689148716006&amp;cacheVersion=1&amp;api=v2" data-height="96" data-width="388" data-unresolved-comment-count="0" data-linked-resource-id="26522781106" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20221013-201111.png" data-base-url="https://goconnectitgroup.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="26522781077" data-linked-resource-container-version="1" data-media-id="04f83fd3-4648-435e-add9-a238404c967b" data-media-type="file" srcset="https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201111.png?version=1&amp;modificationDate=1689148716006&amp;cacheVersion=1&amp;api=v2&amp;width=388&amp;height=96 2x, https://goconnectitgroup.atlassian.net/wiki/download/thumbnails/26522781077/image-20221013-201111.png?version=1&amp;modificationDate=1689148716006&amp;cacheVersion=1&amp;api=v2&amp;width=340&amp;height=84 1x"></span><p>Let’s look at a more advanced constraint example.<br/>Say we want to have a &quot;dateofbirth&quot; question that we want to constrain to only allow dates in the past.</p><p>In this case, we would use a function in our formula to evaluate today’s date:</p><blockquote><p>{{dateofbirth}} &lt;= today()</p></blockquote><p>The function &quot;today()&quot; is one of many functions available for use in your formula.</p><hr/><h2 id="CreatingaFormula-ReferringtocolumnvaluesofaselectedrowfromaDataSource">Referring to column values of a selected row from a Data Source</h2><p>The Form Designer allows you to link Choices fields to a Data Source that you have previously uploaded.</p><p>Data Sources can have as many columns as you like, and you may want to refer to the values in these columns when creating a form. To do so you will need to use a formula to refer to the desired column.</p><p>By default, the first column in a Data Source (also known as the Value column) is always used as a field's answer.<br/>If you want to refer to any other column's value, you need to use an<em> <strong>indexing syntax</strong> -</em> specifically you need to add square brackets around the column's index number - e.g. {{product[index]}}</p><p>Data Source column indexes always start at zero - i.e. the first column has an index of 0, the second column has index 1, third column is index 2, and so on.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201133.png?version=1&amp;modificationDate=1689148715920&amp;cacheVersion=1&amp;api=v2" data-image-src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201133.png?version=1&amp;modificationDate=1689148715920&amp;cacheVersion=1&amp;api=v2" data-height="122" data-width="428" data-unresolved-comment-count="0" data-linked-resource-id="26522781103" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20221013-201133.png" data-base-url="https://goconnectitgroup.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="26522781077" data-linked-resource-container-version="1" data-media-id="e86b43a8-f3d3-4d91-9164-8aa70feb15b7" data-media-type="file"></span><p><strong>Let's look at an example...</strong></p><p>Imagine you have a Data Source called &quot;Products&quot; that contains your product list, with rows such as:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201152.png?version=1&amp;modificationDate=1689148715839&amp;cacheVersion=1&amp;api=v2" data-image-src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201152.png?version=1&amp;modificationDate=1689148715839&amp;cacheVersion=1&amp;api=v2" data-height="250" data-width="1631" data-unresolved-comment-count="0" data-linked-resource-id="26522781100" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20221013-201152.png" data-base-url="https://goconnectitgroup.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="26522781077" data-linked-resource-container-version="1" data-media-id="e9da2d66-84b4-44b5-95db-5db55f3e53bd" data-media-type="file"></span><p>You create a Form named &quot;Sales Order&quot; which you will use to capture orders for your products.</p><p>The Form has the following fields:</p><ul><li><p>product_choice: A Choices field that is linked to the Products Data Source.</p></li><li><p>quantity: A Number field that captures the quantity of product ordered.</p></li><li><p>total: A Number field that will calculate the total amount by multiplying the product's price by quantity.</p></li></ul><p>On the &quot;total&quot; field, you would define a Dynamic Value formula as follows: {{product_choice[2]}} * {{quantity}}</p><span class="confluence-embedded-file-wrapper image-left-wrapper"><img class="confluence-embedded-image image-left" loading="lazy" src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201159.png?version=1&amp;modificationDate=1689148715743&amp;cacheVersion=1&amp;api=v2" data-image-src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/image-20221013-201159.png?version=1&amp;modificationDate=1689148715743&amp;cacheVersion=1&amp;api=v2" data-height="120" data-width="368" data-unresolved-comment-count="0" data-linked-resource-id="26522781097" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20221013-201159.png" data-base-url="https://goconnectitgroup.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="26522781077" data-linked-resource-container-version="1" data-media-id="97c4060f-ae80-467d-a045-8099261da5f2" data-media-type="file"></span><p><strong>Note </strong>the square brackets and index value of 2 used to refer to the 3rd column (the Price) in the Products Data Source.</p><p>So now you're ready to tackle formula on our platform, here is a link to our Formula Cheat Sheet. This is a comprehensive list of our available formulae.<br/><a href="/wiki/spaces/GSD/pages/26522783292/Formula+Cheat+Sheet" data-linked-resource-id="26522783292" data-linked-resource-version="1" data-linked-resource-type="page">Formula Cheat Sheet</a> </p><hr/><h2 id="CreatingaFormula-InsertingComments">Inserting Comments</h2><p>We’ve added a new icon to the Formula Builder which, when clicked, will insert a comment for you (denoted by<strong> /* */</strong>). Use it to make sure everyone understands the more complicated parts of your formulas (and to discourage unwanted tampering).</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/Platform%20-%20Form%20Screens%20-%20Creating%20a%20Formula.png?version=1&amp;modificationDate=1689148715528&amp;cacheVersion=1&amp;api=v2" data-image-src="https://goconnectitgroup.atlassian.net/wiki/download/attachments/26522781077/Platform%20-%20Form%20Screens%20-%20Creating%20a%20Formula.png?version=1&amp;modificationDate=1689148715528&amp;cacheVersion=1&amp;api=v2" data-height="299" data-width="960" data-unresolved-comment-count="0" data-linked-resource-id="26522781091" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Platform - Form Screens - Creating a Formula.png" data-base-url="https://goconnectitgroup.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="26522781077" data-linked-resource-container-version="1" data-media-id="19da7b0c-29b8-4696-b061-9f667751a1fd" data-media-type="file"></span><p />